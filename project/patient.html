<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href="css/custom.css" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">



	 <title>Admin</title>
  	</head>
  	<body>

  	  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="js/web3.min.js"></script>
    
	<script>
		if (typeof web3 !== 'undefined') {
        web3 = new Web3(web3.currentProvider);
      } else {
        web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:7545'));
      }
	  web3.eth.defaultAccount = web3.eth.accounts[0];
	  const contractAbi =[
	{
		"constant": false,
		"inputs": [
			{
				"name": "_parameters",
				"type": "uint256[]"
			},
			{
				"name": "_patient",
				"type": "address"
			},
			{
				"name": "_count",
				"type": "uint256"
			}
		],
		"name": "addSymptoms",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_tokenReward",
				"type": "uint256"
			}
		],
		"name": "setSpringTokenReward",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_patientAddress",
				"type": "address"
			},
			{
				"name": "_number",
				"type": "uint256"
			}
		],
		"name": "checkLogin",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "MAX_PARAMETERS",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_patientAddress",
				"type": "address"
			}
		],
		"name": "getPatientBalance",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "from",
				"type": "uint256"
			},
			{
				"name": "to",
				"type": "uint256"
			}
		],
		"name": "getCurrentPatients",
		"outputs": [
			{
				"name": "_numberOfPatients",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "springToken",
		"outputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "MAX_COUNT",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_patient",
				"type": "address"
			}
		],
		"name": "removePatient",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_hospital",
				"type": "address"
			},
			{
				"name": "_password",
				"type": "uint256"
			}
		],
		"name": "addHospital",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"name": "isPatient",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "recordCount",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "tokenRewardAmount",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "tokenAddress",
		"outputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_pass",
				"type": "uint256"
			}
		],
		"name": "getSHA",
		"outputs": [
			{
				"name": "",
				"type": "bytes32"
			}
		],
		"payable": false,
		"stateMutability": "pure",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_hospital",
				"type": "address"
			},
			{
				"name": "_password",
				"type": "uint256"
			}
		],
		"name": "removeHospital",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"name": "isHospital",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_patient",
				"type": "address"
			},
			{
				"name": "_passkey",
				"type": "uint256"
			}
		],
		"name": "addPatient",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_patientAddress",
				"type": "address"
			},
			{
				"name": "_count",
				"type": "uint256"
			}
		],
		"name": "getRecord",
		"outputs": [
			{
				"name": "_hospital",
				"type": "address"
			},
			{
				"name": "_admissionDate",
				"type": "uint256"
			},
			{
				"name": "_dischargeDate",
				"type": "uint256"
			},
			{
				"name": "_visitReason",
				"type": "uint256"
			},
			{
				"name": "_symptoms",
				"type": "uint256[]"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_patientAddress",
				"type": "address"
			},
			{
				"name": "_hospital",
				"type": "address"
			},
			{
				"name": "_admissionDate",
				"type": "uint256"
			},
			{
				"name": "_dischargeDate",
				"type": "uint256"
			},
			{
				"name": "_visitReason",
				"type": "uint256"
			}
		],
		"name": "addRecord",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"name": "_hospital",
				"type": "address"
			},
			{
				"name": "_password",
				"type": "uint256"
			}
		],
		"payable": true,
		"stateMutability": "payable",
		"type": "constructor"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"name": "hospital",
				"type": "address"
			}
		],
		"name": "HospitalAddition",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"name": "sender",
				"type": "address"
			},
			{
				"indexed": false,
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Deposit",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"name": "hospital",
				"type": "address"
			}
		],
		"name": "HospitalRemoval",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"name": "patient",
				"type": "address"
			}
		],
		"name": "PatientAddition",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"name": "patient",
				"type": "address"
			}
		],
		"name": "PatientRemoval",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"name": "recordID",
				"type": "uint256"
			},
			{
				"indexed": false,
				"name": "patientAddress",
				"type": "address"
			}
		],
		"name": "PatientRecordAdded",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"name": "recordID",
				"type": "uint256"
			},
			{
				"indexed": false,
				"name": "patientAddress",
				"type": "address"
			}
		],
		"name": "NameAddedToRecords",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"name": "tokenReward",
				"type": "uint256"
			}
		],
		"name": "TokenRewardSet",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"name": "patientAddress",
				"type": "address"
			}
		],
		"name": "PatientPaid",
		"type": "event"
	}
];
	var contractAddress = '0x3D6AE3DB4545519d78a070d52024c147bE7007a4';
	var instance = web3.eth.contract(contractAbi).at(contractAddress);</script>

	<input type="text" class="form-control" id="pati" placeholder="Enter address" />
	<p id="p1"></p>

	<br></br>
	<button onclick="pat()"  type="button" id ="bal" class="btn btn-success"  style="color:inherit">Get Balanve</button>
	<script type="text/javascript">
		function pat(){
		patient = $("#pati").val();
		value =instance.getPatientBalance(patient);
		$("#p1").text(value);}
	</script>

</body>